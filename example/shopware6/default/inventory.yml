.base: &base
  roles:
    - app
  port: 22
  forwardAgent: true
  composer_options: install --verbose --prefer-dist --no-progress --no-interaction --no-dev --optimize-autoloader --no-scripts
  sshOptions:
    UserKnownHostsFile: /dev/null
    StrictHostKeyChecking: no

stage.customer.tld: &remote_base
  <<: *base
  hostname: 10.0.0.1
  user: root
  http_user: root
  stage: staging
  branch: staging
  shop_host: stage.customer.tld
  shop_name: DEV!!!
  shop_title: DEV!!!
  shop_path: ""
  cachetool: /var/run/php5-fpm.sock
  deploy_path: /var/www/stage.customer.tld
  rsync_src: /tmp/build
  rsync_dest: '{{release_path}}'

www.customer.tld:
  <<: *remote_base
  hostname: 10.0.0.2
  stage: production
  branch: master
  shop_host: www.customer.tld
  cachetool: /var/run/php5-fpm.sock
  shop_name: LIVE!!!
  shop_title: LIVE!!!
  deploy_path: /var/www/www.customer.tld

localhost:
  <<: *base
  local: true
  hostname: localhost
  user: root
  http_user: root
  stage: test
  deploy_path: /tmp/deploy
  rsync_src: /tmp/build
  rsync_dest: '{{release_path}}'
